<!DOCTYPE html>
<html>

<head>
  <title>GeoJSON</title>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.js"></script>
  <style>
    svg {
      outline: 1px solid black;
    }
    #content .map path {
      stroke: #aaa;
      fill: transparent;
      stroke-width: .2px;
    }
  </style>
</head>

<body>
  <div id="content">
    <svg width="1200px" height="600px">
      <g class="map"></g>
    </svg>
  </div>
  
  <script>
    let geojson = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {
            "name": "Africa"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[-6, 36], [33, 30], [43, 11], [51, 12], [29, -33], [18, -35], [7, 5], [-17, 14], [-6, 36]]]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Australia"
          },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[[143, -11], [153, -28], [144, -38], [131, -31], [116, -35], [114, -22], [136, -12], [140, -17], [143, -11]]]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Timbuktu"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [-3.0026, 16.7666]
          }
        }
      ]
    };

    let projection = d3.geoEquirectangular().center([-72, 42]).scale(60000);

    let geoGenerator = d3.geoPath()
      .projection(projection);

    function update(geojson) {
      let u = d3.select('#content g.map')
        .selectAll('path')
        .data(geojson.features);

      u.enter()
        .append('path')
        .attr('d', geoGenerator);
               
    }
    
    d3.json("http://localhost:8000/GeoWaltham/data.json").then(function(data) {
      update(data);
    });
    
    var zoom = d3.zoom()
      .scaleExtent([1, 8])
      .on('zoom', function() {
          d3.select('#content g.map').selectAll('path')
           .attr('transform', d3.event.transform);
    });

    d3.select('#content g.map').call(zoom);
    
  </script>
  
</body>

</html>